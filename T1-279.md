# Documentação da Branch: T1-279

## Objetivo
Implementar a exibição de fotos de inspeção dos piezômetros na tela de Nível Estático, utilizando um carrossel similar ao da Qualidade da Água.

## Alterações Realizadas

----------------------------------------------

### 1. Novo Componente de Visualização
- **Arquivo**: `components/GraficoPiezometro/CarrosselFotosInspecao.tsx`
- **Descrição**: Desenvolvido um componente de carrossel utilizando PrimeReact para exibir as fotos de inspeção.
- **Destaque**: Como as fotos ainda não estão acessíveis via URL pública no servidor, o componente exibe cards com informações técnicas (nome do arquivo, data de inserção e caminho completo) para validação.

----------------------------------------------

### 2. Atualização de API
- **Arquivo**: `service/nivelEstaticoApis.ts`
- **Descrição**: Adicionada a função `getFotosInspecaoPiezometroApi`.
- **Correção**: A rota foi corrigida de `/fotos-inspecoes` para `/fotos-inspecao` seguindo o padrão do Swagger da API.

----------------------------------------------

### 3. Ajuste no Hook Gerenciador
- **Arquivo**: `hooks/useGerenciadorNivelEstatico.ts`
- **Descrição**: Integrada a busca de fotos dentro da função principal `aoBuscar`.
- **Lógica**: A busca de fotos agora é disparada sincronamente com a busca de dados do gráfico ao clicar no botão "APLICAR", garantindo que as fotos correspondam ao piezômetro selecionado.

----------------------------------------------

### 4. Integração na Tela Principal
- **Arquivo**: `components/GraficoPiezometro/index.tsx`
- **Descrição**: Inclusão do componente `CarrosselFotosInspecao` no layout principal.
- **Posicionamento**: Conforme solicitado pelo usuário, as fotos são exibidas logo abaixo da seção de Análise da IA.

----------------------------------------------

### 5. Exportação para PDF com Fotos
- **Arquivo**: `hooks/useExportacaoRelatorioTelaNivelEstatico.ts`
- **Descrição**: Implementada a inclusão de uma tabela de fotos de inspeção no relatório PDF.
- **Tabela**: A tabela contém as colunas: Ponto (ID do Piezômetro), Data (formatada dd/mm/yyyy), Hora (HH:mm) e Foto (placeholder visual).
- **Lógica**: A tabela é gerada dinamicamente e injetada no container de impressão apenas quando existem fotos vinculadas ao piezômetro selecionado.
### 6. Reset de Estado nos Filtros
- **Arquivo**: `hooks/useGerenciadorNivelEstatico.ts`
- **Descrição**: Adicionado `setFotosInspecao([])` no `useEffect` que monitora alterações nos filtros. Isso garante que as fotos da busca anterior desapareçam imediatamente ao trocar qualquer filtro, mantendo a consistência com os outros componentes da tela.
